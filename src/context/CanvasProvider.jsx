import React, { useState, useCallback, useRef } from "react";

export const CanvasContext = React.createContext({});

const imageData = [
  "data:image/jpeg;base64,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",
  "data:image/jpeg;base64,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",
  "data:image/jpeg;base64,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",
];

const getInitialData = (data, type = "TEXT") => {
  return {
    type: type,
    id: `${type}__${Date.now()}__${data.length}`,
    position: {
      top: 50 * (data.length + 1),
      left: 100,
    },
    dimension: {
      width: "150",
      height: type === "TEXT" ? "50" : "150",
    },
    content: type === "TEXT" ? "Sample Text" : "",
  };
};

const CanvasContextProvider = ({ children }) => {
  const [defaultImages, setDefaultImages] = useState(imageData);
  const [canvasData, setCanvasData] = useState([]);
  const [activeSelection, setActiveSelection] = useState(new Set());
  const [enableQuillToolbar, setEnableQuillToolbar] = useState(false);
  const isSelectAll = useRef(false);

  const updateCanvasData = (data) => {
    const currentDataIndex =
      canvasData.findIndex((canvas) => canvas.id === data.id) ?? -1;
    const updatedData = { ...canvasData?.[currentDataIndex], ...data };
    canvasData.splice(currentDataIndex, 1, updatedData);
    setCanvasData([...(canvasData || [])]);
  };

  const addElement = (type, content = null, dimension = {}) => {
    const defaultData = getInitialData(canvasData, type);
    setCanvasData([
      ...canvasData,
      {
        ...defaultData,
        type: type ?? "TEXT",
        content: content ? content : defaultData.content,
        ...dimension,
      },
    ]);
    activeSelection.clear();
    activeSelection.add(defaultData.id);
    setActiveSelection(new Set(activeSelection));

    console.log(defaultData);
  };

  const deleteElement = useCallback(() => {
    setCanvasData([
      ...canvasData.filter((data) => {
        if (data.id && activeSelection.has(data.id)) {
          activeSelection.delete(data.id);
          return false;
        }
        return true;
      }),
    ]);
    setActiveSelection(new Set(activeSelection));
  }, [activeSelection, canvasData]);

  const selectAllElement = useCallback(() => {
    isSelectAll.current = true;
    canvasData.map((data) => activeSelection.add(data.id || ""));
    setActiveSelection(new Set(activeSelection));
  }, [activeSelection, canvasData]);

  const addImage = (image) => {
    setDefaultImages((p) => [...p, image]);
  };

  const getImageDimensions = async (file) => {
    return new Promise((resolved, rejected) => {
      var i = new Image();
      i.onload = function () {
        resolved({
          w: i.width,
          h: i.height,
          nw: i.naturalWidth,
          nh: i.naturalHeight,
        });
      };
      i.src = file;
    });
  };

  const getAdjustedDimenstions = (width, height, resultWidth) => {
    const ratio = width / height;
    return { calcWidth: resultWidth, calcHeight: resultWidth / ratio };
  };

  const context = {
    actions: {
      setCanvasData,
      setActiveSelection,
      updateCanvasData,
      addElement,
      setEnableQuillToolbar,
      addImage,
      getImageDimensions,
      getAdjustedDimenstions,
    },
    state: {
      canvasData,
      activeSelection,
      enableQuillToolbar,
      defaultImages,
    },
  };

  const handleKeyDown = useCallback(
    (event) => {
      if (event.key === "Delete") {
        deleteElement();
      } else if (["a", "A"].includes(event.key) && event.ctrlKey) {
        event.preventDefault();
        selectAllElement();
      }
    },
    [deleteElement, selectAllElement]
  );

  const outSideClickHandler = () => {
    isSelectAll.current = false;
    setActiveSelection(new Set());
  };

  const handleMouseDown = useCallback((event) => {
    if (!isSelectAll.current) {
      return;
    }

    outSideClickHandler();
    isSelectAll.current = false;
  }, []);

  React.useEffect(() => {
    document.addEventListener("keydown", handleKeyDown);
    document.addEventListener("mousedown", handleMouseDown);
    return () => {
      document.removeEventListener("keydown", handleKeyDown);
      document.removeEventListener("mousedown", handleMouseDown);
    };
  }, [handleKeyDown, handleMouseDown]);

  return (
    <CanvasContext.Provider value={context}>{children}</CanvasContext.Provider>
  );
};

export default CanvasContextProvider;
